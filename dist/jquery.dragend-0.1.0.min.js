(function(d,p){var A={pageContainer:"ul",pageElements:"li",direction:"horizontal",minTouchDistance:"40",keyboardNavigation:!1,scribe:0,duration:400,hammerSettings:{drag_min_distance:0,css_hacks:!1}},B={37:"left",38:"up",39:"right",40:"down"},t={overflow:"hidden",padding:0},s=function(f,k){var s=d(p),C=d(document.body),e=0,h=0,c=0,q=!1,b=d.extend({},A),j,g,i,m,l,r,u={right:function(a){if(!e)return(a.distanceX-e)/4},left:function(a){if((i.length-1)*g.width<=e)return-((i.length-1)*g.width)+a.distanceX/
4},down:function(a){if(!h)return(a.distanceY-h)/4},up:function(a){if((i.length-1)*g.height<=h)return-((i.length-1)*g.height)+a.distanceY/4}},D={horizontal:function(a){j.css("-webkit-transform","translate3d("+a+"px, 0, 0)")},vertical:function(a,b){j.css("-webkit-transform","translate3d(0, "+b+"px, 0)")}},E={horizontal:function(a){j.css({"margin-left":a})},vertical:function(a,b){j.css({"margin-top":b})}},F=function(){m=d(i[c]);j.css("-webkit-transition","-webkit-transform "+b.duration+"ms ease-out");
l[b.direction](-e,-h);p.setTimeout(function(){v();j.css("-webkit-transition","-webkit-transform 0")},b.duration)},G=function(){m=d(i[c]);j.animate({"margin-left":-e,"margin-top":-h},b.duration,"linear",v)},x=function(){var a=d.extend({},t);i=f.find(b.pageElements);j=f.find(b.pageContainer);var n=f.width(),k=f.height();"horizontal"===b.direction?n-=parseInt(b.scribe,10):k-=parseInt(b.scribe,10);g={width:n,height:k};e=n*c;h=k*c;({horizontal:function(){d.extend(a,{"float":"left"});j.css({overflow:"hidden",
width:g.width*i.length,"padding-right":b.scribe,"box-sizing":"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1E3,margin:0})},vertical:function(){f.css({height:g.height+parseInt(b.scribe,10)});f.find(b.pageContainer).css({"padding-bottom":b.scribe})}})[b.direction]();d.extend(a,{height:g.height,width:g.width,margin:0,border:0});i.each(function(){d(this).css(a)});b.scrollToPage?(o("page",c),delete b.scrollToPage):(w("page",c),l[b.direction](-e,-h))},w=function(a,b){({up:function(){c<
i.length-1&&(h+=g.height,c++)},down:function(){0<=c&&(h-=g.height,c--)},left:function(){c<i.length-1&&(e+=g.width,c++)},right:function(){0<c&&(e-=g.width,c--)},page:function(a){e=g.width*a;c=a},reset:function(){c=e=h=0}})[a](b)},v=function(){q=!1;m.trigger("active");if(b.onSwipeEnd)b.onSwipeEnd(f,m,c)},o=function(a,b){q=!0;a&&w(a,b);r()},y=function(a){var e=d(i[c]);if(b.onSwipeStart)b.onSwipeStart(f,e);o(a)},z=function(a){"object"===typeof a&&(b=d.extend(b,a));c=b.jumpToPage||b.scrollToPage||c;x()};
"WebKitCSSMatrix"in p&&"m11"in new WebKitCSSMatrix?(l=D,r=F):(l=E,r=G);f.css(t);z(k);f.on("drag",b.hammerSettings,function(a){a.stopPropagation();a.preventDefault();var c=Math.round(u[a.direction](a))||a.distanceX-e,a=Math.round(u[a.direction](a))||a.distanceY-h;if(!q)l[b.direction](c,a)}).on("dragend",b.hammerSettings,function(a){a.stopPropagation();a.preventDefault();a.distance>b.minTouchDistance?y(a.direction):o()});s.on("resize",x);if(b.keyboardNavigation)C.on("keydown",function(){var a=B[event.keyCode];
a&&o(a)});return{swipe:y,updateInstance:z}};d.fn.dragend=function(f){var d=this.data("dragend");d?d.updateInstance(f):(d=new s(this,f),this.data("dragend",d));"string"===typeof f&&d.swipe(f);return this}})(jQuery,window);
